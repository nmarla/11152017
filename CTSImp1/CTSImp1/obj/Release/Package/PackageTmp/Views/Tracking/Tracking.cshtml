@using CTSImp1.ViewModels;
@using CTSImp1.Models;
@model TrackingViewModel
@{
    ViewBag.Title = "Tracking";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head>
    <meta name="viewport" content="width=device-width" />
    <title>TinyMCE Example</title>
    <!-- TinyMCE Script Reference -->
    <script src="~/scripts/tinymce/tinymce.min.js"></script>
    <!-- Script to wire up your TinyMCE editor -->
    <script type="text/javascript">
        // Initialize your tinyMCE Editor with your preferred options
        tinyMCE.init({
            // General options
            mode: "textareas",
            theme: "modern",
            // Theme options
            theme_advanced_buttons1: "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
            theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
            theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
            theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
            theme_advanced_toolbar_location: "top",
            theme_advanced_toolbar_align: "left",
            theme_advanced_statusbar_location: "bottom",
            theme_advanced_resizing: true,

            // Example content CSS (should be your site CSS)
            // content_css: "css/example.css",
        });
    </script>
</head>
<body>
    @using (Html.BeginForm("TrackingInfo", "Tracking", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div class="container ">
            <div class="row">
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblTktno", "Ticket No. / Complaint No.:")
                        @Html.TextBoxFor(m => m.corrcmpInfo.cc_number, new { autocomplete = "off", @readonly = "readonly", placeholder = "New", @class = "form-control" })
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        <label for="TicketNo">Purpose of contact:</label>
                        @Html.DropDownListFor(m => m.corrcmpInfo.purpose_of_contact, new SelectList((IEnumerable<CTSCodeTable>)ViewData["PurposeOfContact"], "short_description", "short_description"), "---Select One--", new { @class = "form-control" })
                        @* @Html.DropDownList("CorrespondenceType", new SelectList((IEnumerable<CTSCodeTable>)ViewData["ListItems"], "table_no", "short_description"), new { @class = "form-control" })*@
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblOther", "Other")
                        @Html.TextBoxFor(m => m.corrcmpInfo.poc_other, new { autocomplete = "off", @class = "form-control" })
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        <label for="TicketNo">Complaint/Inquiry from</label>
                        @Html.DropDownListFor(m => m.corrcmpInfo.cc_recdin, new SelectList((IEnumerable<CTSCodeTable>)ViewData["ComplaintEnquiry"], "short_description", "short_description"), "---Select One--", new { @class = "form-control" })
                        @*tml.DropDownListFor(m => m.corrcmpcontactInfo.cc_contact_id,new SelectList((IEnumerable<CTSCodeTable>) ViewBag.ListItem)*@
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblDoitSrNo", "DOITT SR No.")
                        @Html.TextBoxFor(m => m.corrcmpInfo.serv_req_number, new { autocomplete = "off", @class = "form-control" })
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblDtRcvd", "Date Received:")
                        <div class="input-group col-md-5 dtreceived date" data-date="" data-date-format="MM dd yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                            @Html.TextBoxFor(m => m.corrcmpInfo.date_recd, new { @class = "form-control", placeholder = "Click to show calendar", tabindex = 3, style = "width: 220px;" })
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblDtEntrd", "Date Entered:")
                        <div class="input-group col-md-5 dtEntrd date" data-date="" data-date-format="MM dd yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                            @Html.TextBoxFor(m => m.corrcmpInfo.date_entered, new { @class = "form-control", placeholder = "Click to show calendar", tabindex = 3, style = "width: 220px;", onkeydown = "return false", @readonly = "readonly" })
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>

                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        <label>Entered By:</label>
                        @Html.TextBoxFor(m => m.userInfom.users_id, new { autocomplete = "off", @class = "form-control" })
                    </div>
                </div>
                
            </div>
            <div class="row">
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        <label>Date of correspondence:</label>
                        <div class="input-group col-md-5 dtcc date" data-date="" data-date-format="MM dd yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                            @Html.TextBoxFor(m => m.corrcmpInfo.cc_date, new { @class = "form-control", placeholder = "Click to show calendar", tabindex = 3, style = "width: 220px;" })
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        <label>Date Send to Mayor's Office</label>
                        <div class="input-group col-md-5 dtMayor date" data-date="" data-date-format="MM dd yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                            @Html.TextBoxFor(m => m.corrcmpInfo.date_recd, new { @class = "form-control", placeholder = "Click to show calendar", tabindex = 3, style = "width: 220px;" })
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblDueDt", "Due Date:")
                        @Html.TextBoxFor(m => m.corrcmpInfo.serv_req_number, new { autocomplete = "off", @class = "form-control" })
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblDueDt", "Days Remaining:")
                        @Html.TextBoxFor(m => m.corrcmpInfo.recd_by, new { autocomplete = "off", @class = "form-control" })
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        <label for="TicketNo">Complaint Status</label>
                        @Html.DropDownListFor(m => m.corrcmpInfo.cc_status, new SelectList((IEnumerable<CTSCodeTable>)ViewData["ComplaintStatus"], "short_description", "short_description"), "---Select One--", new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group form-group-sm">
                        @Html.Label("lblResolution", "Resolution status")
                        @Html.DisplayFor(m => m.resolutionInfom.resolution_status, new { autocomplete = "off", @class = "form-control" })
                    </div>
                </div>
            </div>


            @************************ Tabs for Complainants / Complaint / Referral / Attachments ************************@
            <div class="margin-top">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#ComplaintInquirer" aria-controls="home" role="tab" data-toggle="tab">Complainant / Inquirer</a></li>
                    <li role="presentation"><a href="#ComplaintIncident" aria-controls="ComplaintIncident" role="tab" data-toggle="tab">Details</a></li>
                    <li role="presentation"><a href="#ReferralResolution" aria-controls="ReferralResolution" role="tab" data-toggle="tab">Referral</a></li>
                    <li role="presentation"><a href="#Resolution" aria-controls="Resolution" role="tab" data-toggle="tab">Resolution</a></li>
                    <li role="presentation"><a href="#Attachments" aria-controls="Attachments" role="tab" data-toggle="tab">Attachments</a></li>
                </ul>
@if (Session["ccnum"] != null)
{
                <!-- Tab panes -->
                <div class="tab-content">
                   
                        @************************ Tab Complaint / Inquirer ************************@
                        <div role="tabpanel" class="tab-pane" id="ComplaintInquirer">
                            @{ Html.RenderPartial("ComplaintPV");}
                        </div>
                            @************************ Details ************************@
                                <div role="tabpanel" class="tab-pane" id="ComplaintIncident">
                                    @{ Html.RenderPartial("DetailsPV");}
                                </div>
                                @************************ Tab Referral ************************@
                                        <div role="tabpanel" class="tab-pane" id="ReferralResolution">
                                            @{ Html.RenderPartial("ReferralPV");}
                                        </div>
                                        @************************ Tab Resolution ************************@
                                                <div role="tabpanel" class="tab-pane" id="Resolution">
                                                    @{ Html.RenderPartial("ResolutionPV");}
                                                </div>
                                                @************************ Tab Attachments ************************@
                                                        <div role="tabpanel" class="tab-pane" id="Attachments">
                                                            @{ Html.RenderPartial("AttachmentsPV");}
                                                        </div>

                </div>
                                                                }
                <!-- End of Tab panes -->
                <div class="row margin-top margin-bottom">
                    <div class="col-md-12">
                        <input type="submit" class="btn btn-primary btn-sm" value="Save" formaction="TrackingInfo">
                    </div>
                </div>

            </div>
            @************************ End of Tabs for Complainants / Complaint / Referral / Attachments ************************@
        </div>
                                                                }
</body>
@*<script src="@Url.Content("~/Scripts/jquery-3.2.1.min.js")"></script>*@
@*<script type="text/javascript">
                                            $(function () {
                                                $('.form_datetime').datepicker({
                                                    startDate: '-0m',
                                                    format: "mm/dd/yyyy",
                                                    autoclose: true,
                                                    todayHighlight: true
                                                }).on('changeDate', function (ev) {
                                                    $('#sDate1').text($('#datepicker').data('date'));
                                                    $('#datepicker').datepicker('hide');
                                                });
                                            });
    </script>*@

